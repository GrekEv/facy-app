# üöÄ –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é OnlyFace.art

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞](#1-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-—Å–µ—Ä–≤–µ—Ä–∞)
2. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL](#2-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö-postgresql)
3. [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#3-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
4. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#4-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
5. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot](#5-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-telegram-bot)
6. [–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã](#6-–ø—Ä–æ–≤–µ—Ä–∫–∞-—Ä–∞–±–æ—Ç—ã)
7. [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ](#7-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-–∏-–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ)

---

## 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

### 1.1. –°–æ–∑–¥–∞–Ω–∏–µ –í–ú –≤ –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://cloud.yandex.ru
2. **Compute Cloud** ‚Üí **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã** ‚Üí **–°–æ–∑–¥–∞—Ç—å –í–ú**
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **–ò–º—è:** `onlyface-server`
   - **–ó–æ–Ω–∞:** `ru-central1-a` (–ú–æ—Å–∫–≤–∞)
   - **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** Intel Ice Lake
   - **vCPU:** 2
   - **RAM:** 4 GB
   - **–î–∏—Å–∫:** 20 GB SSD
   - **–û–±—Ä–∞–∑:** Ubuntu 22.04 LTS
   - **–ü—É–±–ª–∏—á–Ω—ã–π IP:** ‚úÖ –í–∫–ª—é—á–∏—Ç—å
   - **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** `ubuntu`
   - **SSH –∫–ª—é—á:** –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á
4. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å"**
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–ø—É–±–ª–∏—á–Ω—ã–π IP –∞–¥—Ä–µ—Å** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `158.160.96.182`)

### 1.2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≥—Ä—É–ø–ø –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

1. –í –∫–æ–Ω—Å–æ–ª–∏ –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–∞: **VPC** ‚Üí **–ì—Ä—É–ø–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**
2. –í—ã–±–µ—Ä–∏—Ç–µ –≥—Ä—É–ø–ø—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤–∞—à–µ–π –í–ú
3. –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∏–ª–∞:

**–í—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫:**
- **–ü–æ—Ä—Ç:** `22` (SSH)
- **–ü—Ä–æ—Ç–æ–∫–æ–ª:** TCP
- **–ò—Å—Ç–æ—á–Ω–∏–∫:** `0.0.0.0/0` (–∏–ª–∏ –≤–∞—à IP –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)

- **–ü–æ—Ä—Ç:** `80` (HTTP)
- **–ü—Ä–æ—Ç–æ–∫–æ–ª:** TCP
- **–ò—Å—Ç–æ—á–Ω–∏–∫:** `0.0.0.0/0`

- **–ü–æ—Ä—Ç:** `443` (HTTPS)
- **–ü—Ä–æ—Ç–æ–∫–æ–ª:** TCP
- **–ò—Å—Ç–æ—á–Ω–∏–∫:** `0.0.0.0/0`

- **–ü–æ—Ä—Ç:** `8000` (API)
- **–ü—Ä–æ—Ç–æ–∫–æ–ª:** TCP
- **–ò—Å—Ç–æ—á–Ω–∏–∫:** `0.0.0.0/0`

**–ò—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫:**
- –†–∞–∑—Ä–µ—à–∏—Ç—å –≤–µ—Å—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

### 1.3. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh ubuntu@158.160.96.182
```

---

## 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL

### 2.1. –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞ PostgreSQL –≤ –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–µ

1. –í –∫–æ–Ω—Å–æ–ª–∏ –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–∞: **Managed Databases** ‚Üí **PostgreSQL** ‚Üí **–°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Ç–µ—Ä**

2. **–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
   - **–ò–º—è –∫–ª–∞—Å—Ç–µ—Ä–∞:** `onlyface-postgresql`
   - **–û–∫—Ä—É–∂–µ–Ω–∏–µ:** `Production`
   - **–í–µ—Ä—Å–∏—è PostgreSQL:** `15`

3. **–í—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã:**
   - **–ö–ª–∞—Å—Å —Ö–æ—Å—Ç–∞:** `s2.micro` (2 vCPU, 8 GB RAM) - –æ—Ç 500‚ÇΩ/–º–µ—Å
   - **–†–∞–∑–º–µ—Ä –¥–∏—Å–∫–∞:** `20 GB SSD`

4. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - **–ò–º—è –ë–î:** `onlyface_db`
   - **–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:** `onlyface_user`
   - **–ü–∞—Ä–æ–ª—å:** –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å (—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ!)

5. **–°–µ—Ç—å:**
   - **–°–µ—Ç—å:** –í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ç—å –≤–∞—à–µ–π –í–ú
   - **–ü–æ–¥—Å–µ—Ç—å:** –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Å–µ—Ç—å
   - **–ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø:** ‚úÖ **–í–∫–ª—é—á–∏—Ç—å**

6. **–ì—Ä—É–ø–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
   - –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∏–ª–æ –¥–ª—è –ø–æ—Ä—Ç–∞ `6432` (PostgreSQL)
   - **–ò—Å—Ç–æ—á–Ω–∏–∫:** IP –≤–∞—à–µ–π –í–ú `158.160.96.182` –∏–ª–∏ –ø–æ–¥—Å–µ—Ç—å

7. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å"** –∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–∑–¥–∞–Ω–∏—è (5-10 –º–∏–Ω—É—Ç)

### 2.2. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä
2. –í–∫–ª–∞–¥–∫–∞ **"–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ"**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - **–•–æ—Å—Ç:** `c-xxxxx.rw.mdb.yandexcloud.net`
   - **–ü–æ—Ä—Ç:** `6432`
   - **–ò–º—è –ë–î:** `onlyface_db`
   - **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** `onlyface_user`
   - **–ü–∞—Ä–æ–ª—å:** (–≤–∞—à –ø–∞—Ä–æ–ª—å)

---

## 3. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 3.1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker –∏ Docker Compose

**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:**

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo usermod -aG docker ubuntu
rm get-docker.sh

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Compose
sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

# –í—ã—Ö–æ–¥ –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—Ö–æ–¥ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
exit
```

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å —Å–Ω–æ–≤–∞:
```bash
ssh ubuntu@158.160.96.182
```

### 3.2. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Git
sudo apt install git -y

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/GrekEv/facy-app.git
cd facy-app

# –ò–ª–∏ –µ—Å–ª–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSH –∫–ª—é—á
```

### 3.3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
cd ~/facy-app
nano .env
```

**–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**

```env
# ============================================
# –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï
# ============================================

# –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç BotFather
BOT_TOKEN=8374729179:AAG7wyo467ksUQgNyoESNzc09Wn0UBS7T7g

# URL –≤–∞—à–µ–≥–æ Web App
WEBAPP_URL=https://onlyface.art

# –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã
ENVIRONMENT=production

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
DATABASE_URL=postgresql+asyncpg://onlyface_user:–í–ê–®_–ü–ê–†–û–õ–¨@c-xxxxx.rw.mdb.yandexcloud.net:6432/onlyface_db?ssl=require

# –°–µ—Ä–≤–µ—Ä
HOST=0.0.0.0
PORT=8000

# ============================================
# API –ö–õ–Æ–ß–ò –î–õ–Ø –ì–ï–ù–ï–†–ê–¶–ò–ò –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô
# ============================================

# Replicate (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
REPLICATE_API_KEY=your_replicate_api_key_here
REPLICATE_API_URL=https://api.replicate.com/v1

# ============================================
# API –ö–õ–Æ–ß–ò –î–õ–Ø –ì–ï–ù–ï–†–ê–¶–ò–ò –í–ò–î–ï–û
# ============================================

# OpenAI Sora (–¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–∏–¥–µ–æ)
OPENAI_API_KEY=your_openai_api_key_here
SORA_MODEL=sora-1.0-pro

# ============================================
# –í–´–ë–û–† –ü–†–û–í–ê–ô–î–ï–†–û–í
# ============================================

# –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
IMAGE_GENERATION_PROVIDER=replicate

# –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–∏–¥–µ–æ
VIDEO_GENERATION_PROVIDER=sora
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ:** `Ctrl+O`, `Enter`, `Ctrl+X`

**–í–∞–∂–Ω–æ:** –ó–∞–º–µ–Ω–∏—Ç–µ:
- `–í–ê–®_–ü–ê–†–û–õ–¨` –Ω–∞ –ø–∞—Ä–æ–ª—å –æ—Ç PostgreSQL
- `c-xxxxx.rw.mdb.yandexcloud.net` –Ω–∞ –≤–∞—à —Ö–æ—Å—Ç PostgreSQL

### 3.4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–±–ª–µ–º –≤ –∫–æ–¥–µ

**–í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**

```bash
cd ~/facy-app

# –ò—Å–ø—Ä–∞–≤–ª—è–µ–º config.py - –¥–æ–±–∞–≤–ª—è–µ–º ENVIRONMENT
if ! grep -q "ENVIRONMENT: str" config.py; then
    sed -i '/WEBAPP_URL: str/a\    \n    # Environment\n    ENVIRONMENT: str = "production"  # development, production' config.py
fi

# –î–æ–±–∞–≤–ª—è–µ–º extra = "ignore"
if ! grep -q 'extra = "ignore"' config.py; then
    sed -i '/case_sensitive = True/a\        extra = "ignore"  # –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∏–∑ .env' config.py
fi

# –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –∏–º–ø–æ—Ä—Ç—ã –≤ api/main.py
sed -i 's/from \.schemas import/from api.schemas import/g' api/main.py
sed -i 's/from \. import payments/from api import payments/g' api/main.py

# –£–¥–∞–ª—è–µ–º version –∏–∑ docker-compose.yml
sed -i '/^version:/d' docker-compose.yml

# –ò—Å–ø—Ä–∞–≤–ª—è–µ–º models.py - –æ–±–Ω–æ–≤–ª—è–µ–º Base –Ω–∞ DeclarativeBase
sed -i 's/from sqlalchemy.ext.declarative import declarative_base/from sqlalchemy.orm import DeclarativeBase, relationship/g' database/models.py
if grep -q "^Base = declarative_base()" database/models.py; then
    sed -i 's/^Base = declarative_base()$/class Base(DeclarativeBase):\n    """–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π"""\n    pass/g' database/models.py
fi

# –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: metadata -> transaction_metadata
sed -i 's/^    metadata = Column(Text, nullable=True)/    transaction_metadata = Column(Text, nullable=True)/g' database/models.py

# –û–±–Ω–æ–≤–ª—è–µ–º healthcheck –≤ docker-compose.prod.yml
if ! grep -q "start_period" docker-compose.prod.yml; then
    sed -i '/retries: 3$/a\      start_period: 40s' docker-compose.prod.yml 2>/dev/null || sed -i '/retries: 5$/a\      start_period: 40s' docker-compose.prod.yml
    sed -i 's/retries: 3/retries: 5/g' docker-compose.prod.yml
fi

echo "‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã!"
```

### 3.5. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
cd ~/facy-app

# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
docker compose -f docker-compose.prod.yml build --no-cache

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
docker compose -f docker-compose.prod.yml up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker compose -f docker-compose.prod.yml ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker compose -f docker-compose.prod.yml logs -f
```

**–ü–æ–¥–æ–∂–¥–∏—Ç–µ 30 —Å–µ–∫—É–Ω–¥ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ health endpoint
curl http://localhost:8000/health

# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è: {"status": "healthy"}
```

---

## 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 4.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –¥–ª—è –¥–æ–º–µ–Ω–∞ onlyface.art

**–í –ø–∞–Ω–µ–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–æ–º–µ–Ω–∞ `onlyface.art`:**

1. –î–æ–±–∞–≤—å—Ç–µ A-–∑–∞–ø–∏—Å—å:
   ```
   –¢–∏–ø: A
   –ò–º—è: @ (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º)
   –ó–Ω–∞—á–µ–Ω–∏–µ: 158.160.96.182
   TTL: 3600
   ```

2. –î–æ–±–∞–≤—å—Ç–µ A-–∑–∞–ø–∏—Å—å –¥–ª—è www:
   ```
   –¢–∏–ø: A
   –ò–º—è: www
   –ó–Ω–∞—á–µ–Ω–∏–µ: 158.160.96.182
   TTL: 3600
   ```

3. –î–æ–∂–¥–∏—Ç–µ—Å—å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è DNS (5-30 –º–∏–Ω—É—Ç)

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS:
   ```bash
   dig onlyface.art
   # –∏–ª–∏
   nslookup onlyface.art
   ```

### 4.2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:**

```bash
cd ~/facy-app

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx
sudo apt update
sudo apt install -y nginx

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo tee /etc/nginx/sites-available/onlyface > /dev/null <<'EOF'
server {
    listen 80;
    server_name onlyface.art www.onlyface.art;

    client_max_body_size 100M;

    location / {
        proxy_pass http://localhost:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        
        proxy_connect_timeout 60s;
        proxy_send_timeout 60s;
        proxy_read_timeout 60s;
    }

    location /static/ {
        alias /home/ubuntu/facy-app/static/;
        expires 30d;
        add_header Cache-Control "public, immutable";
    }
    
    location /uploads/ {
        alias /home/ubuntu/facy-app/uploads/;
        expires 7d;
        add_header Cache-Control "public";
    }
    
    location /generated/ {
        alias /home/ubuntu/facy-app/generated/;
        expires 7d;
        add_header Cache-Control "public";
    }

    location /health {
        proxy_pass http://localhost:8000/health;
        access_log off;
    }
}
EOF

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo ln -sf /etc/nginx/sites-available/onlyface /etc/nginx/sites-enabled/
sudo rm -f /etc/nginx/sites-enabled/default

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo nginx -t

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Nginx
sudo systemctl restart nginx
sudo systemctl enable nginx
```

### 4.3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot
sudo apt install -y certbot python3-certbot-nginx

# –ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
sudo certbot --nginx -d onlyface.art -d www.onlyface.art --non-interactive --agree-tos --email admin@onlyface.art

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
sudo certbot renew --dry-run
```

### 4.4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ WEBAPP_URL

```bash
cd ~/facy-app
sed -i "s|WEBAPP_URL=.*|WEBAPP_URL=https://onlyface.art|g" .env

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
docker compose -f docker-compose.prod.yml restart
```

### 4.5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall

```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ UFW
sudo ufw allow 22/tcp
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw --force enable
```

---

## 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot

### 5.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Menu Button

1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/mybots`
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
4. –í—ã–±–µ—Ä–∏—Ç–µ **"Bot Settings"** ‚Üí **"Menu Button"**
5. –í–∫–ª—é—á–∏—Ç–µ **"Menu Button"**
6. –í –ø–æ–ª–µ **"URL"** –≤–≤–µ–¥–∏—Ç–µ: `https://onlyface.art`
7. –ù–∞–∂–º–∏—Ç–µ **"Save"**

### 5.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"üöÄ –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"**
4. –î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è Web App –Ω–∞ `https://onlyface.art`

---

## 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 6.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ API

```bash
# Health endpoint
curl https://onlyface.art/health
# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è: {"status": "healthy"}

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# –û—Ç–∫—Ä–æ–π—Ç–µ: https://onlyface.art/health
```

### 6.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ–±-—Å–∞–π—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://onlyface.art`
2. –î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 6.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ Telegram Mini App

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"üöÄ –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"**
3. –î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è Web App

### 6.4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL –∫–ª–∏–µ–Ω—Ç–∞
sudo apt install -y postgresql-client

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ)
psql "host=c-xxxxx.rw.mdb.yandexcloud.net port=6432 dbname=onlyface_db user=onlyface_user password=–í–ê–®_–ü–ê–†–û–õ–¨ sslmode=require"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü
\dt

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
SELECT COUNT(*) FROM users;
SELECT COUNT(*) FROM generations;

# –í—ã—Ö–æ–¥
\q
```

---

## 7. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

### 7.1. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –í—Å–µ –ª–æ–≥–∏
docker compose -f docker-compose.prod.yml logs -f

# –õ–æ–≥–∏ API
docker compose -f docker-compose.prod.yml logs -f api

# –õ–æ–≥–∏ –±–æ—Ç–∞
docker compose -f docker-compose.prod.yml logs -f bot

# –õ–æ–≥–∏ Nginx
sudo tail -f /var/log/nginx/access.log
sudo tail -f /var/log/nginx/error.log
```

### 7.2. –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
docker compose -f docker-compose.prod.yml ps
docker stats
```

### 7.3. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
cd ~/facy-app

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker compose -f docker-compose.prod.yml restart

# –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker compose -f docker-compose.prod.yml down
docker compose -f docker-compose.prod.yml up -d
```

### 7.4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
cd ~/facy-app

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
git pull

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker compose -f docker-compose.prod.yml build
docker compose -f docker-compose.prod.yml up -d
```

### 7.5. –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ PostgreSQL
pg_dump "host=c-xxxxx.rw.mdb.yandexcloud.net port=6432 dbname=onlyface_db user=onlyface_user password=–í–ê–®_–ü–ê–†–û–õ–¨ sslmode=require" > backup_$(date +%Y%m%d_%H%M%S).sql

# –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
psql "host=c-xxxxx.rw.mdb.yandexcloud.net port=6432 dbname=onlyface_db user=onlyface_user password=–í–ê–®_–ü–ê–†–û–õ–¨ sslmode=require" < backup_20240101_120000.sql
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–µ—Ç —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ PostgreSQL.

### 7.6. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–µ

1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –í–ú:**
   - –í –∫–æ–Ω—Å–æ–ª–∏: **Compute Cloud** ‚Üí **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã** ‚Üí –≤–∞—à–∞ –í–ú ‚Üí **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
   - –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ: CPU, RAM, –¥–∏—Å–∫, —Å–µ—Ç—å

2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ PostgreSQL:**
   - –í –∫–æ–Ω—Å–æ–ª–∏: **Managed Databases** ‚Üí **PostgreSQL** ‚Üí –≤–∞—à –∫–ª–∞—Å—Ç–µ—Ä ‚Üí **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
   - –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ: CPU, –ø–∞–º—è—Ç—å, –¥–∏—Å–∫, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –∑–∞–ø—Ä–æ—Å—ã

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker compose -f docker-compose.prod.yml logs api --tail=100

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
docker compose -f docker-compose.prod.yml ps -a

# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑—ã
docker compose -f docker-compose.prod.yml build --no-cache
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ —É–¥–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ .env
cat .env | grep DATABASE_URL

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ö–æ—Å—Ç–∞
ping c-xxxxx.rw.mdb.yandexcloud.net

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥—Ä—É–ø–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–µ
# –ü–æ—Ä—Ç 6432 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç –¥–ª—è –≤–∞—à–µ–π –í–ú
```

### –ü—Ä–æ–±–ª–µ–º–∞: SSL –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS
dig onlyface.art

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –¥–æ–º–µ–Ω–∞
curl -I http://onlyface.art

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–ª—É—á–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤—Ä—É—á–Ω—É—é
sudo certbot --nginx -d onlyface.art --debug
```

### –ü—Ä–æ–±–ª–µ–º–∞: Nginx –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 502 Bad Gateway

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API —Ä–∞–±–æ—Ç–∞–µ—Ç
curl http://localhost:8000/health

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Nginx
sudo tail -f /var/log/nginx/error.log

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Docker
docker compose -f docker-compose.prod.yml logs api
```

---

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–æ                       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  –í–ú (onlyface-server)                ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  IP: 158.160.96.182                  ‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§  ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  Nginx     ‚îÇ  ‚îÇ  Docker API  ‚îÇ   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  :80, :443 ‚îÇ  ‚îÇ  :8000       ‚îÇ   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ       ‚îÇ                ‚îÇ             ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò             ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                ‚îÇ                     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ       ‚îÇ  Docker Bot     ‚îÇ            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Managed PostgreSQL                   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  –ö–ª–∞—Å—Ç–µ—Ä: onlyface-postgresql         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  –ë–î: onlyface_db                      ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îÇ HTTPS
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ò–Ω—Ç–µ—Ä–Ω–µ—Ç                                    ‚îÇ
‚îÇ  –î–æ–º–µ–Ω: onlyface.art                        ‚îÇ
‚îÇ  Telegram Mini App                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

- [ ] –°–æ–∑–¥–∞–Ω–∞ –í–ú –≤ –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –≥—Ä—É–ø–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- [ ] –°–æ–∑–¥–∞–Ω –∫–ª–∞—Å—Ç–µ—Ä PostgreSQL
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω DNS –¥–ª—è onlyface.art
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Docker –∏ Docker Compose
- [ ] –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω —Ñ–∞–π–ª .env
- [ ] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ –∫–æ–¥–µ
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–±—Ä–∞–Ω–æ –∏ –∑–∞–ø—É—â–µ–Ω–æ
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω Nginx
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω Menu Button –≤ BotFather
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ API
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ –≤–µ–±-—Å–∞–π—Ç–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ Telegram Mini App
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **OnlyFace.art** –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!

**–î–æ—Å—Ç—É–ø–Ω–æ:**
- üåê –í–µ–±-—Å–∞–π—Ç: https://onlyface.art
- ü§ñ Telegram Bot: —á–µ—Ä–µ–∑ @BotFather
- üì± Telegram Mini App: —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –≤ –±–æ—Ç–µ
- üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: PostgreSQL –≤ –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–µ
- üîí SSL: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

**–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker compose -f docker-compose.prod.yml logs -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker compose -f docker-compose.prod.yml restart

# –°—Ç–∞—Ç—É—Å
docker compose -f docker-compose.prod.yml ps

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
cd ~/facy-app && git pull && docker compose -f docker-compose.prod.yml up -d --build
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ PostgreSQL:** [POSTGRESQL_SETUP.md](POSTGRESQL_SETUP.md)
- **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –≤–µ–±-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é:** [WEB_DEPLOY_CIS.md](WEB_DEPLOY_CIS.md)
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–∞:** https://cloud.yandex.ru/docs

