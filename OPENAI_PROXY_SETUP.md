# Настройка прокси для OpenAI API

Для работы OpenAI API в регионах, где он заблокирован, нужно настроить прокси.

## Варианты прокси

### Вариант 1: Публичный прокси (не рекомендуется для продакшена)

```bash
OPENAI_PROXY=http://proxy.example.com:8080
```

### Вариант 2: Прокси с авторизацией

```bash
OPENAI_PROXY=http://username:password@proxy.example.com:8080
```

### Вариант 3: SOCKS5 прокси

```bash
OPENAI_PROXY=socks5://proxy.example.com:1080
```

### Вариант 4: Прокси-сервисы для OpenAI

Есть специальные сервисы, которые предоставляют прокси для OpenAI API:

1. **OpenAI Proxy Services** - специализированные прокси для OpenAI
2. **Cloudflare Workers** - можно создать свой прокси через Cloudflare
3. **VPS с VPN** - настроить свой прокси-сервер

## Настройка в .env

Добавьте в `.env` файл:

```bash
OPENAI_API_KEY=sk-ваш_ключ
IMAGE_GENERATION_PROVIDER=openai
OPENAI_PROXY=http://your-proxy-server:port
```

## Проверка работы

После настройки прокси запустите тест:

```bash
python3 test_image_generation.py
```

Если прокси настроен правильно, генерация должна работать без ошибки региона.

## Альтернатива: Использовать прокси на уровне сервера

Если у вас есть VPS в доступном регионе, можно настроить прокси на сервере:

1. Установите прокси-сервер (например, Squid)
2. Настройте маршрутизацию через прокси
3. Или используйте VPN на сервере

## Рекомендации

1. Используйте надежный прокси-сервис
2. Проверьте скорость прокси (должна быть достаточной для генерации)
3. Убедитесь, что прокси поддерживает HTTPS
4. Для продакшена лучше использовать собственный прокси-сервер

